(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{364:function(t,e,n){"use strict";n(10),n(9);var r=n(1),o=(n(58),n(350),n(59),n(7),n(4),n(8),n(29),n(35),n(199),n(2)),l=n(62),c=n(0);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v=["sm","md","lg","xl"],m=["start","end","center"];function h(t,e){return v.reduce((function(n,r){return n[t+Object(c.C)(r)]=e(),n}),{})}var y=function(t){return[].concat(m,["baseline","stretch"]).includes(t)},_=h("align",(function(){return{type:String,default:null,validator:y}})),O=function(t){return[].concat(m,["space-between","space-around"]).includes(t)},x=h("justify",(function(){return{type:String,default:null,validator:O}})),j=function(t){return[].concat(m,["space-between","space-around","stretch"]).includes(t)},I=h("alignContent",(function(){return{type:String,default:null,validator:j}})),k={align:Object.keys(_),justify:Object.keys(x),alignContent:Object.keys(I)},w={align:"align",justify:"justify",alignContent:"align-content"};function C(t,e,n){var r=w[t];if(null!=n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return(r+="-".concat(n)).toLowerCase()}}var S=new Map;e.a=o.a.extend({name:"v-row",functional:!0,props:f(f(f({tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:y}},_),{},{justify:{type:String,default:null,validator:O}},x),{},{alignContent:{type:String,default:null,validator:j}},I),render:function(t,e){var n=e.props,data=e.data,o=e.children,c="";for(var d in n)c+=String(n[d]);var f=S.get(c);return f||function(){var t,e;for(e in f=[],k)k[e].forEach((function(t){var r=n[t],o=C(e,t,r);o&&f.push(o)}));f.push((t={"no-gutters":n.noGutters,"row--dense":n.dense},Object(r.a)(t,"align-".concat(n.align),n.align),Object(r.a)(t,"justify-".concat(n.justify),n.justify),Object(r.a)(t,"align-content-".concat(n.alignContent),n.alignContent),t)),S.set(c,f)}(),t(n.tag,Object(l.a)(data,{staticClass:"row",class:f}),o)}})},395:function(t,e,n){"use strict";n(10),n(9),n(61),n(29),n(35);var r=n(1),o=(n(58),n(350),n(59),n(7),n(4),n(8),n(13),n(199),n(2)),l=n(62),c=n(0);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var v=["sm","md","lg","xl"],m=v.reduce((function(t,e){return t[e]={type:[Boolean,String,Number],default:!1},t}),{}),h=v.reduce((function(t,e){return t["offset"+Object(c.C)(e)]={type:[String,Number],default:null},t}),{}),y=v.reduce((function(t,e){return t["order"+Object(c.C)(e)]={type:[String,Number],default:null},t}),{}),_={col:Object.keys(m),offset:Object.keys(h),order:Object.keys(y)};function O(t,e,n){var r=t;if(null!=n&&!1!==n){if(e){var o=e.replace(t,"");r+="-".concat(o)}return"col"!==t||""!==n&&!0!==n?(r+="-".concat(n)).toLowerCase():r.toLowerCase()}}var x=new Map;e.a=o.a.extend({name:"v-col",functional:!0,props:f(f(f(f({cols:{type:[Boolean,String,Number],default:!1}},m),{},{offset:{type:[String,Number],default:null}},h),{},{order:{type:[String,Number],default:null}},y),{},{alignSelf:{type:String,default:null,validator:function(t){return["auto","start","end","center","baseline","stretch"].includes(t)}},tag:{type:String,default:"div"}}),render:function(t,e){var n=e.props,data=e.data,o=e.children,c=(e.parent,"");for(var d in n)c+=String(n[d]);var f=x.get(c);return f||function(){var t,e;for(e in f=[],_)_[e].forEach((function(t){var r=n[t],o=O(e,t,r);o&&f.push(o)}));var o=f.some((function(t){return t.startsWith("col-")}));f.push((t={col:!o||!n.cols},Object(r.a)(t,"col-".concat(n.cols),n.cols),Object(r.a)(t,"offset-".concat(n.offset),n.offset),Object(r.a)(t,"order-".concat(n.order),n.order),Object(r.a)(t,"align-self-".concat(n.alignSelf),n.alignSelf),t)),x.set(c,f)}(),t(n.tag,Object(l.a)(data,{class:f}),o)}})},431:function(t,e,n){"use strict";n.r(e);n(204),n(4);var r={data:function(){return{dialog:!1,headers:[{text:"Index",align:"center",sortable:!1,value:"station_idx"},{text:"Station",align:"center",sortable:!1,value:"station"},{text:"Arr.T",align:"center",sortable:!1,value:"arr_time"},{text:"Arr.D",align:"center",sortable:!1,value:"arr_day"},{text:"Dep.T",align:"center",sortable:!1,value:"dep_time"},{text:"Arr.D",align:"center",sortable:!1,value:"dep_day"},{text:"Actions",align:"center",value:"actions",sortable:!1}],desserts:[],editedIndex:-1,editedItem:{station_idx:1,arr_time:"--:--",dep_time:"--:--",arr_day:0,dep_day:0,duration:-1,station:"",code:""},defaultItem:{station_idx:1,arr_time:"--:--",dep_time:"--:--",arr_day:0,dep_day:0,duration:-1,station:"",code:""},search:"",privilege:!1}},computed:{formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},watch:{dialog:function(t){t||this.close()}},mounted:function(){var t=this;fetch("/api/status").then((function(t){return t.json()})).then((function(e){t.privilege=1===e.privilege})).catch((function(t){console.log(t)})).finally()},created:function(){this.initialize()},methods:{initialize:function(){this.desserts=[]},editItem:function(t){var e=t.station_idx;this.editedIndex=this.desserts.indexOf(t),this.editedItem=Object.assign({},t),this.editedItem.station_idx=e,console.log(this.editedItem),this.dialog=!0},deleteItem:function(t){var e=this.desserts.indexOf(t);confirm("Are you sure you want to delete this item?")&&this.desserts.splice(e,1)},close:function(){var t=this;this.dialog=!1,this.$nextTick((function(){t.editedItem=Object.assign({},t.defaultItem),t.editedIndex=-1}))},save:function(){if(this.editedIndex>-1)Object.assign(this.desserts[this.editedIndex],this.editedItem);else{this.desserts.splice(this.editedItem.station_idx,0,this.editedItem);for(var i=this.editedItem.station_idx;i<this.desserts.length;i++)this.desserts[i].station_idx++}this.close()},findTimeTable:function(){var t=this,e="/api/timetable?train_code="+this.search.toUpperCase();fetch(e).then((function(t){return t.json()})).then((function(e){var n=e.result;t.desserts=n})).catch((function(t){console.log(t)})).finally()},addStation:function(t){this.editedItem.station_idx=t,this.editItem(this.editedItem)},gao:function(t){return null}}},o=n(72),l=n(99),c=n.n(l),d=n(156),f=n(141),v=n(80),m=n(395),h=n(340),y=n(425),_=n(342),O=n(362),x=n(359),j=n(140),I=n(360),k=n(364),w=n(346),C=n(328),S=n(38),T=n(131),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-layout",[n("v-flex",{staticClass:"text-center"},[n("img",{staticClass:"mb-5",attrs:{src:"/v.png",alt:"Vuetify.js"}}),t._v(" "),n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{"append-outer-icon":"search",label:"Enter The Train No.","single-line":"","hide-details":""},on:{"click:append-outer":t.findTimeTable,keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.findTimeTable(e)}},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}})],1),t._v(" "),n("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.desserts,"items-per-page":1/0,"sort-by":"calories","hide-default-footer":""},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"white"}},[n("v-toolbar-title",[t._v("Time Table")]),t._v(" "),n("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),n("v-spacer"),t._v(" "),n("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),t._v(" "),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Station"},model:{value:t.editedItem.station,callback:function(e){t.$set(t.editedItem,"station",e)},expression:"editedItem.station"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Arrival Time"},model:{value:t.editedItem.arr_time,callback:function(e){t.$set(t.editedItem,"arr_time",e)},expression:"editedItem.arr_time"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Arrival Date"},model:{value:t.editedItem.arr_day,callback:function(e){t.$set(t.editedItem,"arr_day",e)},expression:"editedItem.arr_day"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Departure Time"},model:{value:t.editedItem.dep_time,callback:function(e){t.$set(t.editedItem,"dep_time",e)},expression:"editedItem.dep_time"}})],1),t._v(" "),n("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[n("v-text-field",{attrs:{label:"Departure Date"},model:{value:t.editedItem.dep_day,callback:function(e){t.$set(t.editedItem,"dep_day",e)},expression:"editedItem.dep_day"}})],1)],1)],1)],1),t._v(" "),n("v-card-actions",[n("v-spacer"),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v("Cancel")]),t._v(" "),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v("Save")])],1)],1)],1)],1)]},proxy:!0},t.privilege?{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(r)}}},[t._v("\n            mdi-pencil\n          ")]),t._v(" "),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.deleteItem(r)}}},[t._v("\n            mdi-delete\n          ")]),t._v(" "),n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.addStation(r.station_idx)}}},[t._v("\n            mdi-plus-circle\n          ")])]}}:{key:"item.actions",fn:function(e){var r=e.item;return[n("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.gao(r)}}},[t._v("\n            mdi-dots-horizontal\n          ")])]}}],null,!0)})],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;c()(component,{VBtn:d.a,VCard:f.a,VCardActions:v.a,VCardText:v.b,VCardTitle:v.c,VCol:m.a,VContainer:h.a,VDataTable:y.a,VDialog:_.a,VDivider:O.a,VFlex:x.a,VIcon:j.a,VLayout:I.a,VRow:k.a,VSpacer:w.a,VTextField:C.a,VToolbar:S.a,VToolbarTitle:T.a})}}]);